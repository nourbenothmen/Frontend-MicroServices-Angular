<div class="card" *ngIf="!isLoading; else loading">
  <div class="card-header">
    <h4 class="card-title mb-0">Modifier le client</h4>
  </div>

  <div class="card-body">
    <form (ngSubmit)="onSave()" #editForm="ngForm">

      <!-- Prénom -->
      <div class="mb-3">
        <label class="form-label">Prénom</label>
        <input
          type="text"
          class="form-control"
          name="firstName"
          [(ngModel)]="customer.firstName"
          required>
      </div>

      <!-- Nom -->
      <div class="mb-3">
        <label class="form-label">Nom</label>
        <input
          type="text"
          class="form-control"
          name="lastName"
          [(ngModel)]="customer.lastName"
          required>
      </div>

      <!-- Téléphone -->
      <div class="mb-3">
        <label class="form-label">Téléphone</label>
        <input
          type="text"
          class="form-control"
          name="phone"
          [(ngModel)]="customer.phone"
          required>
      </div>

      <!-- Adresse -->
      <div class="mb-3">
        <label class="form-label">Adresse</label>
        <textarea
          class="form-control"
          rows="3"
          name="address"
          [(ngModel)]="customer.address"
          required>
        </textarea>
      </div>

      <!-- Boutons -->
      <div class="d-flex justify-content-end gap-2">
        <button
          type="button"
          class="btn btn-secondary"
          (click)="onCancel()">
          Annuler
        </button>

        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="editForm.invalid">
          Enregistrer
        </button>
      </div>
    </form>
  </div>
</div>

<ng-template #loading>
  <div class="text-center p-5">
    <div class="spinner-border text-primary"></div>
    <p class="mt-3">Chargement du client...</p>
  </div>
</ng-template>
