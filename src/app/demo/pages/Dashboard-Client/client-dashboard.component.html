<div class="client-dashboard">

  <!-- Cartes statistiques -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="icon">üìã</div>
      <h3>R√©clamations totales</h3>
      <p class="number">{{ stats.totalReclamations }}</p>
    </div>
    <div class="stat-card warning">
      <div class="icon">‚è≥</div>
      <h3>R√©clamations en cours</h3>
      <p class="number">{{ stats.enCours }}</p>
    </div>
    <div class="stat-card success">
      <div class="icon">‚úÖ</div>
      <h3>R√©clamations termin√©es</h3>
      <p class="number">{{ stats.terminees }}</p>
    </div>
    <div class="stat-card info">
      <div class="icon">üì¶</div>
      <h3>Articles enregistr√©s</h3>
      <p class="number">{{ stats.articles }}</p>
    </div>
  </div>

  <!-- R√©clamations r√©centes -->
  <div class="recent-section">
    <h2>üìã R√©clamations r√©centes</h2>

    <div class="cards-grid">
      <div class="reclamation-card" *ngFor="let r of recentReclamations">
        <div class="left-border"></div>
        <div class="content">
          <div class="header">
            <h4>{{ r.articleNom }} - <strong>Probl√©me : {{ r.problemType || 'Probl√®me non sp√©cifi√©' }}</strong></h4>
            <span class="badge" [ngClass]="getStatusClass(r.status)">
              {{ r.status | reclamationStatus }}
            </span>
          </div>
          <div class="details">
            <p><strong>REC-{{ r.id}}</strong></p>
            <p>Date: {{ r.createdAt | date:'dd/MM/yyyy' }}</p>
            <p>Technicien: {{ r.technicienNom || 'Non assign√©' }}</p>
            <p>
              Garantie: 
              <span class="garantie" [ngClass]="r.estSousGarantie ? 'sous' : 'hors'">
                {{ r.estSousGarantie ? 'Sous garantie' : 'Hors garantie' }}
              </span>
            </p>
            <p *ngIf="r.status === 'Termin√©e' && !r.estSousGarantie && r.montantTotal">
              Montant factur√©: <strong>{{ r.montantTotal }} TND</strong>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>