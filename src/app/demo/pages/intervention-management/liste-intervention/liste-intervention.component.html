<div class="card shadow-sm border-0 rounded-3">
  <div class="card-header d-flex justify-content-between align-items-center bg-primary text-white rounded-top">
    <h4 class="card-title mb-0">
      ğŸ› ï¸ Gestion des Interventions Techniques
    </h4>
    <h5>Planifier, assigner et suivre les interventions</h5>
    <button class="btn btn-light btn-sm fw-bold" routerLink="/interventions/add">
      â• Nouvelle
    </button>
  </div>

  <div class="card-body p-3 bg-light">
    <div class="table-responsive">
      <table class="table table-hover align-middle mb-0">
        <thead class="table-primary text-dark">
          <tr>
            <th>ID</th>
            <th>Reclamation</th>
            <th>Client ğŸ‘¤</th>
            <th>Article ğŸ“¦</th>
            <th>Garantie ğŸ›¡ï¸</th>
            <th>Technicien ğŸ§°</th>
            <th>Statut</th>
            <th>Actions âš™ï¸</th>
          </tr>
        </thead>
        <tbody>
     <tr *ngFor="let i of interventions" class="align-middle">
  <td class="fw-bold text-secondary">#{{ i.Id }}</td>
  <td>#{{ i.ReclamationId }}</td> <!-- ğŸ”¹ ReclamationId -->
  <td>{{ i.ClientNom }}</td>
  <td>{{ i.ArticleNom }}</td>
  <td>
    <span class="badge" [ngClass]="i.EstSousGarantie ? 'bg-success' : 'bg-danger'">
      {{ i.EstSousGarantie ? 'En garantie' : 'Hors garantie' }}
    </span>
  </td>
  <td>{{ i.TechnicienNom || '-' }}</td>

<td>
  <span class="badge px-2 py-1 fw-bold" [ngClass]="getBadgeClass(i.Statut)">
    {{ i.Statut }}
  </span>
</td>

  <td>
    <button class="btn btn-sm btn-outline-info me-1 fw-bold"
            (click)="details(i.Id)" title="DÃ©tails">
      ğŸ” Voir
    </button>
    <!-- Bouton Imprimer Facture : visible uniquement si TerminÃ©e + Hors garantie -->
  <button class="btn btn-sm btn-success fw-bold"
          *ngIf="i.Statut === 'TerminÃ©e' && !i.EstSousGarantie"
          (click)="imprimerFacture(i.Id)"
          title="Imprimer la facture">
    ğŸ§¾ Facture
  </button>
  </td>
</tr>

          <tr *ngIf="interventions.length === 0">
            <td colspan="7" class="text-center text-muted fst-italic">
              ğŸ˜” Aucune intervention trouvÃ©e
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
